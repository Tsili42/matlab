syms l1 l2 l3 q1 q2 

a1 = [1 0 0 0; 0 1 0 0; 0 0 1 l1; 0 0 0 1];
a2 = [1 0 0 0; 0 0 -1 0; 0 1 0 0; 0 0 0 1];
A00 = a1*a2

b1 = [cos(q1) -sin(q1) 0 0; sin(q1) cos(q1) 0 0; 0 0 1 0; 0 0 0 1];
b2 = [1 0 0 l2; 0 1 0 0; 0 0 1 0; 0 0 0 1];
b3 = [1 0 0 0; 0 0 1 0; 0 -1 0 0; 0 0 0 1];
A01 = b1*b2*b3

c1 = cos(q2+pi/2);
s1 = sin(q2+pi/2);

d1 = [c1 -s1 0 0; s1 c1 0 0; 0 0 1 0; 0 0 0 1];
d2 = [1 0 0 l3; 0 1 0 0; 0 0 1 0; 0 0 0 1];
A12 = simplify(d1*d2)

T = simplify(A00*A01*A12)
